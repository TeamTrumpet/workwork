
# workwork
    import "github.com/TeamTrumpet/workwork"

Package workwork provides a Worker instance which will perform work that is
queued up to it while managing a worker pool to help keep operations
asynchronous.

Components of this code have been sourced directly from SegmentIO's
analytics-go available:

<a href="https://github.com/segmentio/analytics-go/tree/2d840d861c322bdf5346ba7917af1c2285e653d3">https://github.com/segmentio/analytics-go/tree/2d840d861c322bdf5346ba7917af1c2285e653d3</a>

analytics-go is licensed under a MIT license.







## type WorkFunc
``` go
type WorkFunc func(msg []interface{}) error
```
WorkFunc describes a function that is executed with the msg for the worker.











## type Worker
``` go
type Worker struct {
    Interval time.Duration
    Size     int
    Verbose  bool
    Logger   *log.Logger
    // contains filtered or unexported fields
}
```
Worker is the instance that does the actual queuing and processing.









### func NewWorker
``` go
func NewWorker(work WorkFunc, opts WorkerOpts) *Worker
```
NewWorker creates a new worker based on the spec provided. It will allow the
queing of work which will flush when either the Size is reached in the buffer
or the interval is reached, which ever occurs first.




### func (\*Worker) Close
``` go
func (w *Worker) Close() error
```
Close and flush cache requests.



### func (\*Worker) Queue
``` go
func (w *Worker) Queue(msg interface{}) error
```
Queue adds the msg to the worker to be processed as well as verifying that
the msg passed in is not a pointer and that the processing queue is started.



## type WorkerOpts
``` go
type WorkerOpts struct {
    Interval time.Duration
    Size     int
    Verbose  bool
    Logger   *log.Logger
}
```
WorkerOpts is the options that are needed to create a new Worker.

















- - -
Generated by [godoc2md](http://godoc.org/github.com/davecheney/godoc2md)